###
# Example Environment Variables, REMOVE .example extension before use and fill in values
###

# Discord Bot
BOT_TOKEN="discord_bot_token"

# Database
DB_HOST="dcs-postgres" # should match name of postgres container
DB_PORT=5432
DB_TYPE="postgres"
DB_USER="postgres"
DB_PASSWORD="postgres"
DB_NAME="postgres"

# Database Connection Pool Settings (per worker process)
# Total DB connections = (num_workers Ã— DB_POOL_MAX)
# Ensure PostgreSQL max_connections > total connections
# Default PostgreSQL max_connections is usually 100
DB_POOL_MIN=2              # Minimum connections per worker (default: 2)
DB_POOL_MAX=10             # Maximum connections per worker (default: 10)
DB_MAX_QUERIES=50000       # Max queries before connection recycling (default: 50000)
DB_MAX_IDLE_TIME=300       # Max idle time in seconds (default: 300 = 5 minutes)

# Discord OAuth for Next.js
DISCORD_CLIENT_ID="12345"
DISCORD_CLIENT_SECRET="ABC123"

# Discord Invite Link Generation Utilities
DISCORD_BOT_SCOPE="guilds bot applications.commands identify" # these are the required scopes
DISCORD_BOT_PERMISSIONS="65536" # The permissions integer from oauth bot section

# NextAuth.js
NEXTAUTH_SECRET="changeme"
NEXTAUTH_URL="http://localhost:3000"

# Redis
REDIS_URL="redis://dcs-redis:6379"
REDIS_STREAM_MAXLEN=1000

# Worker Settings
STORAGE_TYPE="local"
STORAGE_PATH="/app/storage"

# Video Download Timeouts (prevents workers hanging on stalled downloads)
VIDEO_DOWNLOAD_TIMEOUT=300           # Total download timeout in seconds (default: 300 = 5 minutes)
VIDEO_DOWNLOAD_CONNECT_TIMEOUT=10    # Connection timeout in seconds (default: 10)

# Thumbnail dimensions
THUMBNAIL_SMALL_WIDTH=320      # Default: 320px
THUMBNAIL_SMALL_HEIGHT=180     # Default: 180px
THUMBNAIL_LARGE_WIDTH=640      # Default: 640px
THUMBNAIL_LARGE_HEIGHT=360     # Default: 360px

# Frame extraction
THUMBNAIL_TIMESTAMP=1.0        # Default: 1.0 seconds into video

# WebP quality
THUMBNAIL_QUALITY=85           # Default: 85 (0-100)